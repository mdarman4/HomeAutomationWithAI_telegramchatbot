# Home Automation Telegram AI Bot

This project is a home automation bot that integrates with Telegram. It uses a language model to interpret user commands and control smart home devices. The bot can respond to various commands and control devices based on predefined user preferences. You can run this project on Raspberry Pi.

## Features

- **Telegram Integration**: Interact with the bot via Telegram messages.
- **Language Model**: Uses Google's Gemini model to understand and process commands.
- **Home Automation**: Controls smart home devices based on user commands.
- **Text-to-Speech**: Provides audible notifications and confirmations.
- **Error Handling**: Handles unknown or unclear commands gracefully.

## Setup and Installation

### Prerequisites

- Python 3.8 or higher
- `telegram`
- `pyaudio`
- `pygame`
- `google-generativeai`
- `langchain_google_genai`

### Installation

1. **Clone the repository**:
    ```sh
    git clone https://github.com/yourusername/home-automation-telegram-bot.git
    cd home-automation-telegram-bot
    ```

2. **Install dependencies**:
    ```sh
    pip install python-telegram-bot pyaudio pygame google-generativeai langchain_google_genai
    ```

3. **API Keys**:
    - Obtain the necessary API keys for Google Generative AI and Telegram.
    - Create a file named `api_key.py` and add your Google API key:
        ```python
        GOOGLE_API_KEY = "your_google_api_key"
        ```
    - Create a file named `key.py` and add your Telegram bot API key:
        ```python
        api_key = "your_telegram_api_key"
        ```

4. **Audio Files**:
    - Ensure you have the following audio files in the same directory: `telegramservices.mp3`.

## Code Overview

### `telegramservices()`

This function plays an audio file indicating that the Telegram services are live.

### `good_format(lines)`

This function formats the response received from the language model to a proper JSON format.

### `GoogleGenAI(command)`

This is the core function that:
- Processes the user command using the language model.
- Controls smart home devices based on the interpreted command.
- Returns the response message to be sent back to the user.

### `start(update: Update, context: ContextTypes.DEFAULT_TYPE)`

This function sends a welcome message when the `/start` command is issued in the Telegram chat.

### `echo(update: Update, context: ContextTypes.DEFAULT_TYPE)`

This function processes user messages and sends back responses generated by the `GoogleGenAI` function.

## Running the Project

To start the Telegram bot, simply run the script:

```sh
python telegram_bot.py

